<sw-page-header title="로컬 프로젝트 등록">
  <ng-container controls>
    <a routerLink="/pm/local"
       swButton swButtonColor="gray" swButtonSize="xs">
      목록
    </a>
  </ng-container>
</sw-page-header>

<form [formGroup]="formGroup" (ngSubmit)="submit()" class="space-y-4">
  <sw-section title="기본 정보">
    <div class="space-y-4">
      <div class="flex flex-col space-y-2">
        <label>프로젝트명</label>
        <input swInput
               formControlName="name"
               placeholder="프로젝트명 입력">
      </div>

      <div class="flex flex-col space-y-2">
        <label>학년</label>
        <input type="number"
               swInput
               formControlName="grade"
               placeholder="프로젝트 수행 당시 학년 입력">
      </div>
    </div>
  </sw-section>

  <sw-section title="이미지 및 비디오">
    <sw-banner-control *ngIf="id"
                       [projectId]="id"
                       formControlName="banners"></sw-banner-control>
  </sw-section>

  <sw-section title="교과목 정보">
    <sw-subject-control formControlName="subject"></sw-subject-control>
  </sw-section>

  <sw-section title="소스코드" description="직접 작성한 코드만 선택하여 업로드, 파일을 불러오는데 시간이 걸릴 수 있음">
    <sw-source-control [projectId]="id"
                       formControlName="source"></sw-source-control>
  </sw-section>

  <sw-section title="오픈소스">
    <sw-oss-control formControlName="ossList"></sw-oss-control>
  </sw-section>

  <sw-section title="팀">
    <sw-team-control formControlName="team"></sw-team-control>
  </sw-section>

  <sw-section title="보고서">
    <sw-document-control [projectId]="id" formControlName="documents"></sw-document-control>
  </sw-section>

  <sw-section class="sticky bottom-0 z-10">
    <div class="flex space-x-2">
      <a [routerLink]="modifying ? ['/pm/local', model._id] : ['/pm/local']"
         swButton swButtonColor="gray" swButtonSize="md" class="block w-full">
        취소
      </a>
      <button type="submit"
              swButton swButtonColor="indigo" swButtonSize="md" class="block w-full">
        {{modifying ? '수정' : '등록'}}
      </button>
    </div>
  </sw-section>
</form>
